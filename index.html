<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Front End Engineer</title>
    <!-- Latest compiled and minified CSS -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="assets/style.css">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>

<body>
    <div class="container-fluid">
        <div class="row home">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <img src="assets/images/pf-1.jpg" class="img-responsive" style="margin:auto;" />
                <footer>
                    <a href="https://in.linkedin.com/in/yesarpit">LinkedIn</a>
                    <a href="blog.html">Github</a>
                    <a href="https://twitter.com/yesarpit">Twitter</a>
                </footer>
            </div>
        </div>
    </div>
    <div align='center' style="display: none">
        <a href='http://www.hit-counts.com'><img src='http://www.hit-counts.com/counter.php?t=MTM4NDA0OA==' border='0'
                alt='Visitor Counter'></a>
        <BR><a href='http://www.hit-counts.com'>Visitor Counter</a></div>
    <script>
        /*   (function(i, s, o, g, r, a, m) {
               i['GoogleAnalyticsObject'] = r;
               i[r] = i[r] || function() {
                   (i[r].q = i[r].q || []).push(arguments)
               }, i[r].l = 1 * new Date();
               a = s.createElement(o),
                   m = s.getElementsByTagName(o)[0];
               a.async = 1;
               a.src = g;
               m.parentNode.insertBefore(a, m)
           })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
       
           ga('create', 'UA-73298730-1', 'auto');
           ga('send', 'pageview');*/

        var httpRequest;
        setTimeout(function () {
            xhrCall('GET', 'https://ipinfo.io/json?token=bd51c9afe0c8ba', fetchlocation)
        }, 2000)

        function fetchlocation() {
            if (httpRequest.readyState === XMLHttpRequest.DONE) {
                if (httpRequest.status === 200) {
                    sendIpToBackend(httpRequest.responseText);
                } else {
                    console.log('There was a problem with the request.');
                }
            }
        }

        function sendIpToBackend(data) {
            // xhrCall('POST', 'http://trafficflow-yesarpit.rhcloud.com/postEntry', '', data)
        }

        function xhrCall(method, url, callback, data) {
            httpRequest = new XMLHttpRequest();
            httpRequest.onreadystatechange = callback;
            httpRequest.open(method, url);
            httpRequest.setRequestHeader("Content-Type", "application/json");
            data ? httpRequest.send(data) : httpRequest.send();
        }
    </script>
</body>

</html>